<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DocStore</title>
    <link rel="stylesheet" type="text/css" href="css/home.css">
    <link rel="stylesheet" type="text/css" href="css/partials.css">
</head>
<body>
<%- include('partials/header.ejs') %>

<div class="container">
    <div class="left">
        <h3>Ostatnio dodane</h3>
        <hr>
        <% documents.forEach((doc) => { %>
            <a href="/document/<%= doc.id %>" class="blankLink">
                <div class="documentCard">
                    <h4><%= doc.title %> <% doc.id %></h4>
                    <p><strong>Opis:</strong> <%= doc.description %></p>
                    <p><strong>Autor:</strong> <%= doc.author %></p>
                    <p>Przesłał: <%= doc.username %></p>
                </div>
            </a>
        <% }); %>
    </div>

    <div class="right">
        <h4>Wyszukaj</h4>
        <form id="searchForm" method="get" action="/filter-documents">
            <label for="titleInput">Tytuł</label>
            <input id="titleInput" name="title" type="text" class="searchInput">

            <label for="authorInput">Autor</label>
            <input id="authorInput" name="author" type="text" class="searchInput">

            <label for="descriptionInput">Opis</label>
            <input id="descriptionInput" name="description" type="text" class="searchInput">

            <label for="uploadedByInput">Przesłał</label>
            <input id="uploadedByInput" name="uploadedBy" type="text" class="searchInput">

            <label for="uploadedAtInput">Data przesłania</label>
            <input id="uploadedAtInput" name="uploadedAt" type="date" class="searchInput">

            <label for="orderBySelect">Sortuj według</label>
            <select id="orderBySelect" name="orderBy" class="searchInput">
                <option value="uploaded_at">Data przesłania</option>
                <option value="title">Tytuł</option>
                <option value="author">Autor</option>
            </select>

            <label for="orderTypeSelect">Typ sortowania</label>
            <select id="orderTypeSelect" name="orderType" class="searchInput">
                <option value="asc">Rosnąco</option>
                <option value="desc">Malejąco</option>
            </select>

            <button type="submit">Filtruj</button>
        </form>
    </div>

</div>

<%- include('partials/footer.ejs') %>
</body>
</html>
